##Â Wrapper methods

SanÄ±rÄ±m 26 metod var.

- attributes
- classes
- contains
- destroy
- emitted
- emittedByOrder
- exists
- find
- findAll
- findComponent
- findAllComponents
- html
- get
- is
- isEmpty
- isVisible
- isVueInstance
- name
- props
- setChecked
- setData
- setMethods
- setProps
- setSelected
- setValue
- text
- trigger

### attributes

Wrapper'Ä±n DOM nod'unun attribute nesnesini dÃ¶ndÃ¼rÃ¼r.

### classes

Wrapper'Ä±n DOM nod'unun class listesini array olarak dÃ¶ndÃ¼rÃ¼r, eÄŸer class ismi
parametre olarak girilirse boolean deÄŸer dÃ¶ndÃ¼rÃ¼r.

```
import { mount } from '@vue/test-utils'
const TestComponent = {
  template: `
      <div class="intro">
        <p>Selam!</p>
      </div>
    `,
};

const wrapper = mount(TestComponent)
expect(wrapper.classes()).toContain('intro')
expect(wrapper.classes('intro')).toBe(true)
```

### contains - deprecated

select property'sinin deÄŸeriyle eÅŸleÅŸen elementin veya component'in wrapper objesinin iÃ§inde olup olmadÄ±ÄŸÄ±nÄ± sorgular, boolean deÄŸer dÃ¶ndÃ¼rÃ¼r.

```
import { mount } from '@vue/test-utils'
import Foo from './Foo.vue'
import Bar from './Bar.vue'

const wrapper = mount(Foo)
expect(wrapper.contains('p')).toBe(true)
expect(wrapper.contains(Bar)).toBe(true)
```

### destroy

--

### emitted

Bu metod wrapper.vm'de bulunan gÃ¶nderilmiÅŸ custom event'larÄ± iÃ§eren bir obje dÃ¶ndÃ¼rÃ¼r.

```
import { mount } from '@vue/test-utils'

test('emit testi, async () => {
const wrapper = mount(Component)
wrapper.vm.$emit('olay test')
wrapper.vm.$emit('olay test', 99)
wrapper.vm.$emit('olay test', 33)
wrapper.vm.$emit('olay test', 1,2,3)
await wrapper.vm.$nextTick()
// bu aÅŸamada wrapper.emitted() -> 
// { 'olay test': [],[99],[33],[1,2,3]] }
expect(wrapper.emitted()['olay test']).toBeTruthy() // âœ…
expect(wrapper.emitted()['olay test'].length).toBe(4) // âœ…
expect(wrapper.emitted()['olay test'][1]).toEqual([99]) // âœ…
// veya yazÄ±m olarak
expect(wrapper.emitted('olay test').length).toBe(4) // âœ…
})
```

 ** .emitted() metodu her zaman aynÄ± objeyi dÃ¶ndÃ¼rÃ¼r, her yeni event fired olduÄŸu zaman, Ã¶nceden dÃ¶ndÃ¼rdÃ¼ÄŸÃ¼ obje gÃ¼ncellenmiÅŸ olacaktÄ±r. ** 

 ### emittedByOrder - deprecated

 --

### exists

Wrapper'Ä±n olup olmadÄ±ÄŸÄ±nÄ± test eder. EÄŸer yoksa false dÃ¶ndÃ¼rÃ¼r.

### find - deprecated for component

Selector deÄŸeriyle aynÄ± olan wrapper'Ä±n ilk DOM nod'unu veya Vue component'i dÃ¶ndÃ¼rÃ¼r.

```
import { mount } from '@vue/test-utils'

const TestComponent = {
template: `
<div class="intro">
<p id="paragraph">Selam!</p>
</div>
`,
};
const wrapper = mount(TestComponent)
const p = wrapper.find('p')
expect(p.exists()).toBe(true)
const byId = wrapper.find('#paragraph')
expect(byId.element.id).toBe('paragraph')
```

# findAll - deprecated for component

WrapperArray dÃ¶ndÃ¼rÃ¼r.

```
import { mount } from '@vue/test-utils'

const TestComponent = {
template: `
<div class="intro">
<p>Selam!</p>
<p>HoÅŸgeldiniz.</p>
</div>
`,
};
const wrapper = mount(Foo)
const p = wrapper.findAll('p').at(0)
expect(p.is('p')).toBe(true)
```

### findComponent

Parametreniz ile eÅŸleÅŸen ilk Vue Component'i dÃ¶ndÃ¼rÃ¼r.

```
import { mount } from '@vue/test-utils'
const Login = {
template: `
<div>
 <button>Login</button>
</div>
`,
name: 'login',
};
const TestComponent = {
template: `
<div>
<login ref="login" />
<p>HoÅŸgeldiniz.</p>
</div>
`,
components: {
 'login': Login
 },
};
const wrapper = mount(TestComponent)
const login = wrapper.findComponent(Login) // => Login component'ini yakaladÄ±k.
expect(login.exists()).toBe(true)
const loginByName = wrapper.findComponent({ name: 'login' }) // => Login component'ini name property'sine bakarak yakaladÄ±k.
expect(loginByName.exists()).toBe(true)
const loginRef = wrapper.findComponent({ ref: 'login' })
// => Login component'ini ref'inden yakaladÄ±k :)
expect(loginRef.exists()).toBe(true)
```

### findAllComponents

Parametreniz ile eÅŸleÅŸen ilk Vue Component'lerini array olarak dÃ¶ndÃ¼rÃ¼r.

```
import { mount } from '@vue/test-utils'

const Login = {
template: `
<div>
 <button>Login</button>
</div>
`,
name: 'login',
};

const TestComponent = {
template: `
<div>
 <p>HoÅŸgeldiniz.</p>
 <login />
</div>
`,
components: {
 'login': Login
 },
};

const wrapper = mount(TestComponent)
const login = wrapper.findAllComponents(Login).at(0)
expect(login.exists()).toBeTruthy()
const loginler = wrapper.findAllComponents(Login)
expect(login).toHaveLength(1)
```

### html

Wrapper'Ä±n nod'unu HTML olarak string halinde dÃ¶ndÃ¼rÃ¼r.

```
import { mount } from '@vue/test-utils'

const TestComponent = {
template: `
<div>
 <p>HoÅŸgeldiniz.</p>
</div>
`,
};

const wrapper = mount(TestComponent)
expect(wrapper.html()).toBe('<div><p>HoÅŸgeldiniz.</p></div>')
```

### get - deprecated for component

find() metodu gibi Ã§alÄ±ÅŸÄ±r fakat selector'deki nod'u bulamazsa hata verir.

EÄŸer aradÄ±ÄŸÄ±nÄ±z nod'un DOM'da bulunmama ihtimali varsa get yerine find kullanmalÄ±sÄ±nÄ±z.

EÄŸer aranan element DOM'da olmasÄ± gerekiyorsa get kullanÄ±lmalÄ± bÃ¶ylece o elementin DOM'da olmamasÄ± durumunda hata mesajÄ± aldÄ±ÄŸÄ±mÄ±z iÃ§in sorunu tespit edebiliriz.

### is

--

### isEmpty - deprecated

EÄŸer wrapper child nod iÃ§ermiyorsa boolean deÄŸer olarak true dÃ¶ndÃ¼rÃ¼r.

### isVisible

Wrapper'Ä±n gÃ¶rÃ¼nÃ¼r olup olmadÄ±ÄŸÄ±nÄ± test eder. Boolean deÄŸer dÃ¶ndÃ¼rÃ¼r.

EÄŸer DOM elementinin parent'Ä± `display: none`, `visibility: hidden`, `opacity: 0`, `hidden` attribute'larÄ± varsa veya <details> tag'Ä± iÃ§inde gizli ise, false dÃ¶ndÃ¼rÃ¼r.

v-show ile kontrole ettiÄŸimiz bir elementin gÃ¶rÃ¼nÃ¼r olup olmadÄ±ÄŸÄ±nÄ± bununla test edebiliriz.

### isVueInstance - deprecated

--

### name - deprecated

--

### props

Wrapper.vm objesinin props objesini dÃ¶ndÃ¼rÃ¼r. EÄŸer parametre olarak prop adÄ± girilirse, o prop'u dÃ¶ndÃ¼rÃ¼r.

```
import { mount } from '@vue/test-utils'

const TestComponent = {
template: `
<div>
 <p>HoÅŸgeldiniz.</p>
</div>
`,
};
const wrapper = mount(TestComponent, {
  propsData: {
    testProp: 'Meow ğŸ±'
  }
})
expect(wrapper.props().testProp).toBe('Meow ğŸ±')
expect(wrapper.props('testProp')).toBe('Meow ğŸ±')
```

### setChecked

Checkbox ve radio elementlerinin deÄŸeri (value) ve ilgili olduÄŸu v-model deÄŸiÅŸkenini deÄŸiÅŸtirmek iÃ§in kullanÄ±lÄ±r.

```
import { mount } from '@vue/test-utils'

const TestComponent = {
template: `
<div>
  <input type='radio' value='test' v-model="radioData">
</div>
`,
  data() {
    return {
      radioData: "",
    };
  },
};

test('setChecked demo', async () => {
  const wrapper = mount(TestComponent)
  const radioInput = wrapper.find('input[type="radio"]')

  await radioInput.setChecked()

  expect(radioInput.element.checked).toBeTruthy()
})
```

Not: EÄŸer v-model'i aÅŸaÄŸÄ±daki ÅŸekilde deÄŸiÅŸtirmeye Ã§alÄ±ÅŸÄ±r isek v-model deÄŸiÅŸmez.
v-model'in deÄŸiÅŸmesini tetikleyen event `change` event'Ä±dÄ±r.
```
radioInput.element.checked = true;
radioInput.trigger('input')
```

O yÃ¼zden ```checkboxInput.setChecked(checked)``` yazdÄ±ÄŸÄ±mÄ±z zaman aÅŸaÄŸÄ±daki 3 satÄ±rÄ± simÃ¼le etmiÅŸ oluruz, ve v-model deÄŸiÅŸir.
```
checkboxInput.element.checked = checked
checkboxInput.trigger('click')
checkboxInput.trigger('change')
```

### setData

Wrapper.vm objesinin data'sÄ±na atama yapar.

GirdiÄŸimiz her key iÃ§in sÄ±rasÄ±yla Vue.set kullanarak atama yapar.

Ã–rnek:

```
import { mount } from '@vue/test-utils'

const TestComponent = {
template: `
<div>
  <input type='radio' value='test' v-model="radioData">
</div>
`,
  data() {
    return {
      radioData: "",
    };
  },
};

test('setData demo', async () => {
  const wrapper = mount(TestComponent)

  await wrapper.setData({
      radioData: 'ğŸ˜Š'
      })

  expect(wrapper.vm.radioData).toBe('ğŸ˜Š')
})
```

### setMethods

--

### setProps

Wrapper.vm iÃ§indeki props'a atama yapar ve component'i gÃ¼ncellemeye zorlar.

```
import { mount } from '@vue/test-utils'

const TestComponent = {
template: `
<div>
  <span>{{ testProp }}</span>
</div>
`,
  props: ['testProp']
};

test('setProps demo', async () => {
  const wrapper = mount(TestComponent)

  await wrapper.setProps({ testProp: 'ğŸ’' })

  expect(wrapper.vm.testProp).toBe('ğŸ’')
})
```
veya
```
import { mount } from '@vue/test-utils'

const TestComponent = {
template: `
<div>
  <span>{{ testProp }}</span>
</div>
`,
  props: ['testProp']
};

const wrapper = mount(Foo, {
  propsData: {
    testProp: 'ğŸ’'
  }
})

expect(wrapper.vm.testProp).toBe('ğŸ’')
```
olarak kullanÄ±labilir.

### setSelected

Option element'ini seÃ§ip baÄŸlÄ± olduÄŸu v-model'i deÄŸiÅŸtirir.

Yine input ve .selected = true ile trigger olmaz.
`option.setSelected()`
yazdÄ±ÄŸÄ±mÄ±zda
```
option.element.selected = true
parentSelect.trigger('change')
```
yukarÄ±da ki iki satÄ±rÄ± Ã§alÄ±ÅŸtÄ±rÄ±r ve o ÅŸekilde v-model'i deÄŸiÅŸtirir.

### setValue

Text-control elementini veya select elementinin baÄŸlÄ± olduÄŸu v-model'ini deÄŸiÅŸtirir.

```
import { mount } from '@vue/test-utils'

const TestComponent = {
template: `
<div>
  <input type="text" v-model="textInputData">
  <select name="markalar" v-model="selectInputData">
    <option value="natgeo">Nat Geo</option>
    <option value="puma">Puma</option>
  </select>
  <select multiple name="multi-marka" v-model="multiSelectInputData">
    <option value="natgeo">Nat Geo</option>
    <option value="puma">Puma</option>
  </select>
</div>
`,
  data() {
    return {
      textInputData: "",
      selectInputData: "",
      multiSelectInputData: ""
    }
  }
};

test('setValue demo', async () => {
  const wrapper = mount(TestComponent)

  const textInput = wrapper.find('input[type="text"]')
  await textInput.setValue('ğŸ¦‰')

  expect(wrapper.find('input[type="text"]').element.value).toBe('ğŸ¦‰')

  const select = wrapper.find('select')
  await select.setValue('puma')

  expect(wrapper.find('select').element.value).toBe('puma')

  // requires <select multiple>
  const multiselect = wrapper.find('select')
  await multiselect.setValue(['natgeo', 'puma'])

  const selectedOptions = Array.from(multiselect.element.selectedOptions).map(
    o => o.value
  )
  expect(selectedOptions).toEqual(['natgeo', 'puma'])
})
```Â 

`textInput.setValue(value)` yazmak element text-input olursa
```
textInput.element.value = value
textInput.trigger('input')
```
ile eÅŸdeÄŸerdir.

EÄŸer element select element'i ise Ã§alÄ±ÅŸmasÄ±
```
select.element.value = value
select.trigger('change')
```
ÅŸeklindedir.

### text

Wrapper'Ä±n text content'ini / metin iÃ§eriÄŸini dÃ¶ndÃ¼rÃ¼r.

```
import { mount } from '@vue/test-utils'
import Foo from './Foo.vue'

const wrapper = mount(Foo)
expect(wrapper.text()).toBe('bar')
```

### trigger

Asenkron olarak wrapper'Ä±n DOM'unda event trigger eder.
`options` objesi olarak ikinci bir parametre alÄ±r. Options'Ä±n keyleri Event'a eklenir.
Promise dÃ¶ndÃ¼rÃ¼r, component'in trigger sonrasÄ± gÃ¼ncel olduÄŸunu garanti eder.
Sadece native DOM event'larÄ± ile Ã§alÄ±ÅŸÄ±r.
Custom event emit etmek iÃ§in: `wrapper.vm.$emit('custom event')` kullanÄ±lmalÄ±dÄ±r.

```
import { mount } from '@vue/test-utils'
import sinon from 'sinon'
import Foo from './Foo'

test('trigger demo', async () => {
  const clickHandler = sinon.stub()
  const wrapper = mount(Foo, {
    propsData: { clickHandler }
  })

  await wrapper.trigger('click')

  await wrapper.trigger('click', {
    button: 0
  })

  await wrapper.trigger('click', {
    ctrlKey: true // For testing @click.ctrl handlers
  })

  expect(clickHandler.called).toBe(true)
})
```

trigger'Ä±n arka planda Ã§alÄ±ÅŸmasÄ± aslÄ±nda Event object oluÅŸturarak, bunu wrapper element'ine gÃ¶ndererek olur.
DolayÄ±sÄ± ile Event objesinin `target` deÄŸerini deÄŸiÅŸtirmek mÃ¼mkÃ¼n deÄŸildir. Yani options parametresi iÃ§inde `target`'Ä± deÄŸiÅŸtiremezsiniz.

`target`'a attribute atamak iÃ§in bunu wrapper'da `trigger` kullanmadan Ã¶nce yapmalÄ±sÄ±nÄ±z. Ã–rneÄŸin;

```
const input = wrapper.find('input')
input.element.value = 100
input.trigger('click')
```
